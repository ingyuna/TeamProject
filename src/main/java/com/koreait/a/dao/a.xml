<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.koreait.a.dao.StoreDAO">
	
	<insert id="insertStore">
		INSERT INTO STOREREG
		VALUES (STOREREG_SEQ.NEXTVAL, #{param1}, #{param2}, #{param3}, #{param4}, #{param5}, 0, #{param6})
	
	</insert>
	
	<select id="getTotalStoreCount" resultType="int">
		SELECT COUNT(STORENO)
		  FROM STOREREG
	</select>
	
	
	<select id="selectStoreList" resultType="com.koreait.a.dto.Store">
		SELECT B.RN, B.STORENO, B.STORENAME, B.STORETEL, B.STORETIME, B.STOREADDR, B.STORECONTENT, B.STOREHIT, B.STORETABLE
		  FROM (SELECT ROWNUM AS RN, A.STORENO, A.STORENAME, A.STORETEL, A.STORETIME, A.STOREADDR, A.STORECONTENT, A.STOREHIT, A.STORETABLE
		  		  FROM (SELECT STORENO, STORENAME, STORETEL, STORETIME, STOREADDR, STORECONTENT, STOREHIT, STORETABLE
		  		  		  FROM STOREREG
		  		  		 ORDER BY STORENO DESC) A) B
		 WHERE B.RN BETWEEN #{beginRecord} AND #{endRecord}
	</select>

	<select id="selectStoreByNo" resultType="com.koreait.a.dto.Store">
		SELECT STORENO, STORENAME, STORETEL, STORETIME, STOREADDR, STORECONTENT, STOREHIT, STORETABLE
	      FROM STOREREG
	     WHERE STORENO = #{storeno}
	</select>
	
	
	
	
	
</mapper>